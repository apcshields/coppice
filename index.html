<!doctype html>
<!--[if lt IE 7]>   <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>     <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>     <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Coppice: a custom bookstrap generator</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <style>
      body {
        padding-top: 50px;
        padding-bottom: 20px;
      }
    </style>
    <link rel="stylesheet" href="css/bootswatch-sandstone.min.css">
    <link rel="stylesheet" href="css/main.css">

    <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
  </head>
  <body class="theme-sandstone">
    <!--[if lt IE 8]>
      <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->


    <div class="container">
      <div class="row">
        <div class="col-xs-12">
          <h1>Coppice <small>a custom bookstrap generator</small></h1>
        </div>
      </div>
    </div>

    <div class="jumbotron">
      <div class="container">
        <div class="row">
          <div class="col-xs-12 col-md-6">
            <p>We weren&#8217;t happy with the bookstraps generated by the Interlibrary Loan module in OCLC&#8217;s WorldShare Management System.</p>
            <p>So we made a bookmarklet to get better ones.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-md-6">
          <div class="row">
            <div class="col-xs-12">
              <nav class="hidden-print">
                <ol class="list-unstyled lead">
                  <li><a href="#installation-and-setup">Installation and setup</a></li>
                  <li><a href="#use">Use</a></li>
                  <li><a href="#supported-browsers">Supported browsers</a></li>
                  <li><a href="#configuration-options">Configuration options</a></li>
                  <li><a href="#problems">Problems?</a></li>
                  <li><a href="#whats-with-the-name">What&#8217;s with the name?</a></li>
                  <li><a href="#thanks">Thanks!</a></li>
                </ol>
              </nav>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <h2 id="installation-and-setup">Installation and setup</h2>
              <ol>
                <li><p>Install <a href="https://nodejs.org/en/">npm</a>. <span class="note">(We use it to manage dependencies.)</span></p></li>
                <li>
                  <p>Get the <a href="https://github.com/apcshields/coppice">code</a>.</p>
                  <p><kbd>git clone https://github.com/apcshields/coppice.git</kbd></p>
                </li>
                <li><p>Copy the <code>config.default.cson</code> file to <code>config.cson</code>.</p></li>
                <li>
                  <p>Fill the <code>config.cson</code> file with your institution&#8217;s information.</p>
                  <p>Among other things, you&#8217;ll want to</p>
                  <ol>
                    <li><p>get a WSKey for OCLC&#8217;s <a href="http://www.oclc.org/developer/develop/web-services/interlibrary-loan-policies-directory.en.html">Interlibrary Loan Policies Directory</a> <span class="note">(Coppice will use this to retrieve information about the other library in the transaction)</span>,</p></li>
                    <li><p>upload print-friendly copy of your library&#8217;s logo somewhere it can be retrieved over HTTP <span class="note">(Coppice will add it to the bookstrap with your library&#8217;s name)</span>, and</p></li>
                    <li><p>if you don&#8217;t already have one, set up a cross-domain proxy. <a href="#crossDomainProxy">Here&#8217;s why.</a></p></li>
                  </ol>
                  <p>For a detailed look at configuration options, see <a href="#configuration-options">Configuration options</a>.</p>
                </li>
                <li>
                  <p>On the command line,</p>
                  <ol>
                    <li><p>switch to the directory where you downloaded the code,</p></li>
                    <li><p>run <kbd>npm update</kbd> <span class="note">(this installs the dependencies)</span>,</p></li>
                    <li><p>run <kbd>npm install -g grunt-cli</kbd> <span class="note">(this installs a command to run <a href="http://gruntjs.com">Grunt</a>, which you&#8217;ll use in the next line)</span>, and</p></li>
                    <li><p>run <kbd>grunt</kbd>.</p></li>
                  </ol>
                </li>
                <li><p>Create a new bookmark in your browser and copy the contents of <code>dist/coppice.js</code> into the bookmark. <span class="note">Hint: If you name it &#8216;Generate ILL bookstrap&#8217;, you&#8217;ll never forget what it does.</span></p></li>
              </ol>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <h2 id="use">Use</h2>
              <p>Open the OCLC WMS Interlibrary Loan module, navigate to a request, and click the Coppice bookmark you created. Coppice will generate a preview of the bookstrap for you to review, and you can either print or close the preview.</p>
              <p>Like any computer program, Coppice can&#8217;t read your mind. If you want a different due date than the default on an outgoing loan, for instance, you&#8217;ll need to change that <em>before</em> you click the bookmark.</p>
              <p>Did you change something? Hit the bookmark again, and you&#8217;ll have a chance to print with the updated information.</p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <h2 id="supported-browsers">Supported browsers</h2>
              <p>Coppice is known to work in current versions of <strong>Chrome</strong>, <strong>Firefox</strong>, and <strong>Safari</strong>, but we prefer Chrome because:</p>
              <ol>
                <li><p>It&#8217;s cross-platform, and most of our staff is on Windows.</p></li>
                <li><p>Safari and Firefox put their own cruft on the corners of the printed pages.</p></li>
              </ol>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <h2 id="configuration-options">Configuration options</h2>
              <p>There are lots of ways to configure Coppice. (You can even pull it all the way apart and start over again.) But the two things you&#8217;ll most likely want to change are 1) the configuration options and 2) the CSS (the visual styling).</p>
              <h3>config.cson</h3>
              <p>When you copy `config.default.cson` to `config.cson` and open it, you&#8217;ll see something like:</p>
              <pre class="sourceCode coffee">
<code class="sourceCode coffee">wskey<span class="kw">:</span> <span class="st">&#39;&#39;</span>
thisLibrary<span class="kw">:</span>
oclcSymbol<span class="kw">:</span> <span class="st">&#39;&#39;</span>
  name<span class="kw">:</span> <span class="st">&#39;&#39;</span>
  host<span class="kw">:</span> <span class="st">&#39;&#39;</span>
  logo<span class="kw">:</span> <span class="st">&#39;&#39;</span>
  allowsLoanRenewals<span class="kw">:</span> <span class="ot">false</span>
crossDomainProxy<span class="kw">:</span> <span class="st">&#39;&#39;</span>
renewal<span class="kw">:</span>
  link<span class="kw">:</span> <span class="st">&#39;&#39;</span>
  daysBeforeDueDate<span class="kw">:</span> <span class="dv">0</span></code>
              </pre>
              <p>You&#8217;ll want to add values for most of these (put them inside the single straight quotation marks).</p>
              <p><span class="note note-nb">Coppice will probably still run if you don&#8217;t supply a value for a required option, but parts of it won&#8217;t work as described here.</span></p>
              <dl>
                <dt>wskey (required)</dt>
                <dd>
                  <p>Your WSKey for the <a href="http://www.oclc.org/developer/develop/web-services/interlibrary-loan-policies-directory.en.html">Interlibrary Loan Policies Directory</a>.</p>
                  <p>It will be used to retrieve information about the other library in the transaction.</p>
                </dd>
                <dt id="crossDomainProxy">crossDomainProxy (required)</dt>
                <dd>
                  <p>Your cross-domain proxy.</p>
                  <p>The OCLC Interlibrary Loan Policies Directory web service doesn&#8217;t allow other web pages to access the API, so you&#8217;ll need a cross-domain proxy to which Coppice can pass the API request. This seriously stinks, because it&#8217;s extra setup, but you&#8217;ll only have to do it once. <span class="note">We use Iacovos Constantinou&#8217;s <a href="https://github.com/softius/php-cross-domain-proxy">php-cross-domain-proxy</a>.</span></p>
                  <p>If you don&#8217;t care about information about the other library in the transaction (their name and renewal policy), you can skip this, and Coppice will probably still work.</p>
                </dd>
              </dl>
              <h4>thisLibrary</h4>
              <dl>
                <dt>oclcSymbol</dt>
                <dd>
                  <p>Your library&#8217;s OCLC symbol, e.g. <code><span class="st">&#39;IGC&#39;</span></code></p>
                  <p>It will be added, in parentheses, to the end of your library&#8217;s description on the bookstrap.</p>
                </dd>
                <dt id="thisLibrary-name">name</dt>
                <dd>
                  <p>Your library&#8217;s name, e.g. <code><span class="st">&#39;Harold and Wilma Good Library&#39;</span></code></p>
                  <p>It will be the first line of your library&#8217;s description on the bookstrap. (See also <a href="#thisLibrary-host">thisLibrary:host</a>.)</p>
                </dd>
                <dt id="thisLibrary-host">host</dt>
                <dd>
                  <p>Your library&#8217;s host institution, e.g. <code><span class="st">&#39;Goshen College&#39;</span></code></p>
                  <p>It will be the second line of your library&#8217;s description on the bookstrap. (See also <a href="#thisLibrary-name">thisLibrary:name</a>.) <span class="note">If you do not need two lines in your library description, use only <code>thisLibrary:host</code> and leave <code>thisLibrary:name</code> blank.</span></p>
                </dd>
                <dt>logo</dt>
                <dd>
                  <p>A URL pointing to a print-friendly version of your library&#8217;s logo, e.g. <code><span class="st">&#39;https://library.goshen.edu/resources/images/gc_logo.svg&#39;</span></code>.</p>
                  <p>It will be shown above your library&#8217;s description on the bookstrap.</p>
                  <p>The logo can be any image format your browser will display. With the stock <a href="#style-options">style options</a>, it will be printed 2.75 inches wide and its height will be scaled proportionally.</p>
                </dd>
                <dt>allowsLoanRenewals (required, default <code>false</code>)</dt>
                <dd>
                  <p>Sets what renewal message displays by default on the bookbands of your library&#8217;s outgoing loans.</p>
                  <p>Which renewal message should be displayed on a particular bookstrap can be changed when you generate it by checking or unchecking the &#39;This item cannot be renewed&#39; checkbox on the bookstrap preview.</p>
                  <table class="table">
                    <tbody>
                      <tr>
                        <th><code>true</code></th>
                        <td><p>Will display the message: &#8216;Contact your library&#8217;s interlibrary loan department to request a renewal.&#8217;</p></td>
                      </tr>
                      <tr>
                        <th><code>false</code></th>
                        <td><p>Will display the message: &#8216;No renewals.&#8217;</p></td>
                      </tr>
                    </tbody>
                  </table>
                  <p><span class="note note-nb">The value of this configuration option does not go inside quotation marks.</span></p>
                </dd>
              </dl>
              <h4>renewal</h4>
              <p>We found it useful, if one of our borrows might be renewable, to give the patron about how to renew it. These two configuration options control the details of the message which is printed.</p>
              <p>These values will display in the message: &#8216;You <strong>may</strong> be able to renew this item. Request a renewal at <u>&lt;link&gt;</u> <strong>no later than</strong> &lt;lastRenewalDate&gt;.&#8217;</p>
              <dl>
                <dt>link</dt>
                <dd>
                  <p>An option which a patron can use to request a renewal of the loan. We use the URL to our renewal form.</p>

                </dd>
                <dt>daysBeforeDueDate</dt>
                <dd>
                  <p>A number which indicates the number of days before the due date by which a renewal request should be submitted. When substracted from the due date, yields <code>lastRenewalDate</code>.</p>
                  <p><span class="note note-nb">The value of this configuration option does not go inside quotation marks.</span></p>
                </dd>
              </dl>
              <h3 id="style-options">Style options</h3>
              <p>You can significantly change the appearance of the bookstrap by editing <code>src/coppice.css</code>.</p>
              <p>By default, the bookstrap will take up half of a letter-size sheet of paper and start far enough down the page that there is plenty of space to fold it over the top of the book. The font defaults are left up to the browser, and most emphasis and heirarchy is conveyed through the use of bold text.</p>
              <p>If you decide to make changes to the CSS file, you&#8217;ll probably find it useful to also consult <code>src/bookstrap.handlebars</code>, which defines the structure of the bookstrap.</p>
              <p><span class="note note-nb">Using CSS, you can <em>hide</em> information on the bookstrap, but you will not be able to <em>show</em> additional information without editing both <code>src/coppice.litcoffee</code> and <code>src/bookstrap.handlebars</code>.</span></p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <h2 id="problems">Problems?</h2>
              <p><a href="https://github.com/apcshields/coppice/issues/new">File a ticket</a> on the GitHub repository.</p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <h2 id="whats-with-the-name">What&#8217;s with the name?</h2>
              <p>&#8216;Coppice&#8217; is a fancy word for &#8216;woodlot&#8217;.</p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <h2 id="thanks">Thanks!</h2>
              <p>Coppice is inspired by <code><a href="https://github.com/malantonio/strappy">malantonio/strappy</a></code> and <code><a href="https://github.com/trexlerlibrary/strappy">trexlerlibrary/strappy</a></code>.</p>
              <p>This page was built with <a href="https://html5boilerplate.com">HTML5 Boilerplate</a>, <a href="http://getbootstrap.com">Bootstrap</a>, and the Bootswatch <a href="http://bootswatch.com/sandstone/">Sandstone</a> theme.</p>
            </div>
          </div>
        </div>
        <div class="col-xs-12 col-md-6 hidden-xs hidden-sm hidden-print">
          <div class="row">
            <div class="col-xs-12">
              <img class="img-responsive pull-right bookband-illustration" src="img/bookband.png" alt="A sample bookband generated by Coppice wrapped on a book.">
            </div>
          </div>
        </div>
      </div>

      <hr>

      <footer>
        <div class="row">
          <p class="col-sm-6">&copy; Andrew Shields 2015</p>
          <p class="col-sm-6 text-right"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> <span class="hidden">This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.</span></p>
        </div>
      </footer>
    </div> <!-- /container -->
  </body>
</html>
